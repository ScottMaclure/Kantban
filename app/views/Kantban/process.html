#{extends 'main.html' /}
#{set pageType:'project' /}
#{set title:'Home' /}
#{set 'moreScripts'}
    #{script 'process.js' /}
#{/set}
%{
    laneWidth = Math.round(1000/(project.states.size() - 2))/10
}%
<script>
var routes = {
	moveState: #{jsAction @Ajax.moveState(':state', ':index') /},
} 
</script>
<section>
  <div class="menu">
  </div>
  <ul id="state-list">
    <li id="state-${project.states[0].id}" class="state-item fixed">
      #{state-card state: project.states[0] /}
    </li>
	#{list items:project.states[1..-2], as:'state'}
    <li id="state-${state.id}" class="state-item draggable">
      #{state-card state: state /}
	 </li>
     #{/list}
     <li id="state-${project.states[-1]}" class="state-item fixed">
      #{state-card state: project.states[-1] /}
     </li>
  </ul>
</section>